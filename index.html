<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   
    <div class="container">
        <div class="box" style="background-color: aquamarine">
            <span>0</span>
            <button type="button" data-count="minus">-</button>
            <button type="button" data-count="plus">+</button>
        </div>
        <div class="box" style="background-color: aquamarine">
            <span>0</span>
            <button type="button" data-count="minus">-</button>
            <button type="button" data-count="plus">+</button>
        </div>
        <div class="box" style="background-color: aquamarine">
            <span>0</span>
            <button type="button" data-count="minus">-</button>
            <button type="button" data-count="plus">+</button>
        </div>
        <div class="box" style="background-color: aquamarine">
            <span>0</span>
            <button type="button" data-count="minus">-</button>
            <button type="button" data-count="plus">+</button>
        </div>
        <div class="box" style="background-color: aquamarine">
            <span>0</span>
            <button type="button" data-count="minus">-</button>
            <button type="button" data-count="plus">+</button>
        </div>
    </div>

  

    <style>
        .box {
            float: left;
            height: 100px;
            width: 100px;
            border: 2px solid black;
            margin-right: 15px;
            display: flex;
            vertical-align: center;
            justify-content: center;

   }

   .box span {
       width: 100%;
       font-size: 30px;
       text-align: center;
       line-height: 100px;
   }
 
   [data-count="minus"] {
     background-color: rgb(110, 108, 255);
     font-size: 20px;
     font-weight: bold;
 }

   [data-count="plus"] {
     background-color: rgb(255, 49, 111);
     font-size: 20px;
     font-weight: bold;
 }
    </style>

    
      <script>
          'use strict';
//Task #1//
    //First Example//
         //  let $boxes = document.querySelectorAll('.box');
         //  $boxes.forEach( function(box) {
         //       let $minus = box.querySelector('[data-count="minus"]');
         //       $minus.addEventListener('click', function() {
          //          +this.parentNode.firstElementChild.textContent--
          //      })
          //      let $plus = box.querySelector('[data-count="plus"]');
           //     $plus.addEventListener('click', function() {
            //        +this.parentNode.firstElementChild.textContent++
            //    })
           //   })
    //Second Example//
           let $boxes = document.querySelectorAll('.box');
           $boxes.forEach( function(box) {
                let $minus = box.querySelector('[data-count="minus"]');
                $minus.addEventListener('click', function() {
                    +this.closest('.box').querySelector('span').textContent--
                })
                let $plus = box.querySelector('[data-count="plus"]');
                $plus.addEventListener('click', function() {
                 +this.closest('.box').querySelector('span').textContent++
                })
              })

              //Task #2//
              let url = 'https://ithillel.ua/?utm_source=%D0%9A%D0%B0%D1%80%D0%BB%20%D1%83%20%D0%9A%D0%BB%D0%B0%D1%80%D1%8B%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D1%8B&utm_medium=,%20%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D1%83%20%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%D0%B0%20%D0%BA%D0%BB%D0%B0%D1%80%D0%BD%D0%B5%D1%82.&utm_campaign=%D0%9A%D0%BE%D1%80%D0%BE%D0%BB%D0%B5%D0%B2%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D0%BA%D0%B0%D0%B2%D0%B0%D0%BB%D0%B5%D1%80%D0%B0&utm_term=%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%81%D1%82%D1%80%D0%BE%D0%B3%D0%BE%20%D0%BA%D0%B0%D1%80%D0%B0%D0%BB%D0%B0&utm_content=%D0%B7%D0%B0%20%D0%BA%D1%80%D0%B0%D0%B6%D1%83%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D0%BE%D0%B2';
              const obj = makeObjFromQuery(url);
              console.log(obj);

             const $container = document.querySelector('.container'); 
             $container.after(getTable(obj));

            function makeObjFromQuery(url) {
            const query = decodeURIComponent(url.slice(url.indexOf('?')));
            let obj = {};
            query.split('&').map(function(el) {
                return el.split('=');
            }).forEach(function(el){
                let objKey = el[0];
                let value = el[1]
                obj[objKey] = value;
            });
            return obj;
        }

            function getTable(obj) {
            let $table = document.createElement('table');
            let inner = '';
            for(let key in obj) {
                inner += `<tr><td style='border:1px solid black'>${key}</td><td style='border:1px solid blue'>${obj[key]}</td></tr>`
            }
            $table.innerHTML = inner;
            return $table;
        }


             
      </script>

</body>
</html>

